<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Cek Status Tiket - TravelLink</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body{
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg,#667eea,#764ba2);
    margin:0;
    padding:0;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding-top:50px;
    color:white;
}

.container{
    background: rgba(0,0,0,0.25);
    padding:30px;
    border-radius:15px;
    width: 90%;
    max-width: 500px;
    backdrop-filter: blur(10px);
}

h2{
    text-align:center;
    margin-bottom:20px;
}

form{
    display:flex;
    flex-direction:column;
    gap:15px;
}

input{
    padding:12px;
    border:none;
    border-radius:10px;
    outline:none;
}

button{
    padding:12px;
    border:none;
    border-radius:10px;
    background: linear-gradient(to right,#f97316,#f43f5e);
    color:white;
    font-weight:bold;
    cursor:pointer;
}

.ticket-info{
    margin-top:20px;
    background: rgba(255,255,255,0.15);
    padding:20px;
    border-radius:10px;
}

.ticket-info p{
    margin:8px 0;
}

.status{
    font-weight:bold;
    padding:4px 10px;
    border-radius:8px;
}

.wait{
    background:orange;
    color:white;
}

.done{
    background:green;
    color:white;
}
</style>
</head>

<body>
<div class="container">
<h2>üîç Cek Status Tiket</h2>

<form method="POST">
    <input type="text" name="kode" placeholder="Masukkan kode tiket" required>
    <button type="submit">Cek Status</button>
</form>

{% if ticket %}
<div class="ticket-info">
    <p><b>Transport:</b> {{ ticket.transport }}</p>
    <p><b>Rute:</b> {{ ticket.rute }}</p>
    <p><b>Kelas:</b> {{ ticket.kelas }}</p>
    <p><b>Harga:</b> Rp {{ "{:,}".format(ticket.harga) }}</p>
    <p><b>Waktu Order:</b> {{ ticket.waktu }}</p>
    <p><b>Status:</b> 
        {% if ticket.status == "MENUNGGU PEMBAYARAN" %}
            <span class="status wait">{{ ticket.status }}</span>
        {% else %}
            <span class="status done">{{ ticket.status }}</span>
        {% endif %}
    </p>
</div>
{% elif ticket is not none %}
<p style="text-align:center; margin-top:20px;">‚ùå Tiket tidak ditemukan. Periksa kode kembali.</p>
{% endif %}

</div>
</body>
</html>
